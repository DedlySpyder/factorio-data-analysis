{
  category = "copy-paste",
  dependencies = {
    "copy-paste"
  },
  indent = 1,
  name = "copy-paste-trains",
  order = "b",
  simulation = {
    init = "      game.surfaces[1].create_entities_from_blueprint_string\n      {\n        string = \"0eNrFlV1OwzAMx+/i5w7ls0l7AC6BEOq6aER0SWmziWrq3UlaGEh4sDzx0qix/YvzdyyfYdsdTT9YF6A+g229G6F+OMNo967p0l6YegM12GAOUIBrDulvaGwHcwHW7cwb1HR+LMC4YIM1a/zyMz2542FrhuhwiRxDjN0/h82CKKD3Y4zyLh0VSRtewBQXNc/FDwq7lSJ/gfDcVCRGEZmpoBB5gXS+9Qcf7MlczYNEuf1gI6JZjeQuxre+80NyjB9SwD5tV0RqzbjUUlLCJK9IyaLrNtm00oJTripVSaKEKJn+MDfJLCpNeMWojAsVJS8ZJ6LUCk2/zFWSYxR1kwjyqgYIUmcWB82ryr0dxSiUZOaCU3L7B6dk9g8O+eqfxHCbMfgeyWNF8FiwnR1Mu5pi14yfpYP7pntJlf7PJ0xFprDoU6HyJk34n5JMr4ESQgE7o8wrHp6oyrwuLlpmf+GQ3P7CJ0Jme0VInFTLLKu/jb4CTmYYF2emqVAVU7RU8YWxeX4HlPhDmA==\",\n        position = {0, -1}\n      }\n\n\n    player = game.create_test_player{name = \"big k\"}\n    player.teleport({1, 2.5})\n    game.camera_position = {1, 0.5}\n    game.camera_player = player\n    game.camera_player_cursor_position = player.position\n    game.camera_alt_info = true\n\n    update_player_selected = function()\n      player.update_selected_entity(game.camera_player_cursor_position)\n      local selected = player.selected\n      if not selected then\n        if fake_source_box then\n          fake_source_box.destroy()\n          fake_source_box = nil\n        end\n        return\n      end\n\n      if copy_source and copy_source ~= selected then\n        if fake_source_box then\n          fake_source_box.destroy()\n        end\n        fake_source_box = game.surfaces[1].create_entity{name = \"highlight-box\", box_type = \"copy\", source = copy_source, position = copy_source.position}\n      end\n    end\n\n    step_1 = function()\n      script.on_nth_tick(1, function()\n        local finished = game.move_cursor({position = {-3, -1.5}})\n        update_player_selected()\n        if finished then\n          step_2()\n        end\n      end)\n    end\n\n    step_2 = function()\n      local wait = 30\n      copy_source = player.selected\n      game.surfaces[1].play_sound{path = \"utility/entity_settings_copied\"}\n      script.on_nth_tick(1, function()\n        wait = wait - 1\n        if wait >= 0 then return end\n        local finished = game.move_cursor{position = {5, -1.5}}\n        local last = last_selected\n        update_player_selected()\n\n        if finished then\n          local selected = player.selected\n          selected.copy_settings(copy_source, player)\n          step_3()\n        end\n      end)\n    end\n\n    step_3 = function()\n      local wait = 20\n      script.on_nth_tick(1, function()\n        wait = wait - 1\n        if wait > 0 then return end\n        local finished = game.move_cursor({position = {3, 3}})\n        update_player_selected()\n        if finished then\n          local selected = player.selected\n          selected.copy_settings(copy_source, player)\n          step_4()\n        end\n      end)\n    end\n\n    step_4 = function()\n      local wait = 30\n      script.on_nth_tick(1, function()\n        wait = wait - 1\n        if wait > 0 then return end\n        local finished = game.move_cursor({position = player.position})\n        update_player_selected()\n        if fake_source_box and not player.selected then\n          fake_source_box.destroy()\n          fake_source_box = nil\n        end\n        if finished then\n          reset()\n        end\n      end)\n    end\n\n    reset = function()\n      local reset_tick = game.tick + 60\n      script.on_nth_tick(1, function()\n        if game.tick >= reset_tick then\n          for k, v in pairs (game.surfaces[1].find_entities_filtered{area = {{1, 0},{5, 3}}}) do\n            if v.color then\n              v.color = nil\n            end\n          end\n          copy_source = nil\n          start()\n        end\n      end)\n    end\n\n    start = function()\n      local start_tick = game.tick + 60\n      script.on_nth_tick(1, function()\n        if game.tick >= start_tick then\n          step_1()\n        end\n      end)\n    end\n\n    start()\n\n  "
  },
  tag = "[entity=locomotive]",
  trigger = {
    count = 3,
    entity = "locomotive",
    type = "build-entity"
  },
  type = "tips-and-tricks-item"
}